<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="competition">
	<select id="competitionList" resultType="competition">
		select competition_no as competitionNo,
		competition_title as competitionTitle,
		competition_contents as competitionContents,
		competition_img as competitionImg,
		competition_video as competitionVideo,
		competition_result as competitionResult,
		competition_date as competitionDate,
		competition_check as competitionCheck
		from competition where competition_check='N'
	</select>
	<insert id="insertCompetition" parameterType="competition">
		insert into competition values(seq_competition_no.nextval,#{competitionTitle},#{competitionContents},#{competitionImg},null,null,sysdate,#{competitionCheck})
	</insert>
	<select id="competitionView" parameterType="competition" resultType="competition">
		select competition_no as competitionNo,
		competition_title as competitionTitle,
		competition_contents as competitionContents,
		competition_img as competitionImg,
		competition_video as competitionVideo,
		competition_result as competitionResult,
		competition_date as competitionDate,
		competition_check as competitionCheck
		from (select rownum as rnum,c.* from( select * from competition where competition_check='Y' order by competition_no desc) c) where rnum= 1
	</select>
</mapper>
